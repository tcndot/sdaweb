<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SDA Promoters</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

  <!-- Load header dynamically -->
  <div id="header"></div>

  <main class="main-content">
    <!-- Your page-specific content here -->
  </main>

  <!-- Load footer dynamically -->
  <div id="footer"></div>

  <!-- Load data variables -->
  <script src="data.js"></script>

  <!-- Script to load header & footer HTML -->
  <script>
    async function loadHTML(id, url) {
      try {
        const response = await fetch(url);
        if (!response.ok) throw new Error('Network response was not ok');
        const html = await response.text();
        document.getElementById(id).innerHTML = html;
      } catch (error) {
        console.error(`Error loading ${url}:`, error);
      }
    }
    // Load header and footer and then set data dynamically after header loads
    loadHTML('header', 'header.html').then(() => {
      if(typeof setData === 'function') setData();
    });
    loadHTML('footer', 'footer.html');
  </script>

  <!-- Script to pull the data object and fill DOM elements -->
  <script>
    function setData() {
      if(!window.siteData) return;
      const s = siteData;
      const setText = (id, text) => { const el = document.getElementById(id); if(el) el.textContent = text; };
      const setLink = (id, href, text) => { const el = document.getElementById(id); if(el) { el.href = href; el.textContent = text; } };

      // Logo
      const logoImg = document.getElementById('logo-image');
      if(logoImg) logoImg.src = s.logoSrc;

      // Company names
      setText('company-name-top', s.companyNameTop);
      setText('company-name-main', s.companyName);
      setText('company-name-footer', s.companyName);

      // Phone and WhatsApp links on top and footer
      setLink('phone-link-top', 'tel:'+s.phone, 'Call ' + s.phone);
      setLink('whatsapp-link-top', 'https://wa.me/'+s.phone, 'WhatsApp ' + s.phone);
      setLink('phone-link-footer', 'tel:'+s.phone, s.phone);
      setLink('email-link', 'mailto:'+s.email, s.email);

      // Office addresses
      setText('main-office', s.mainOffice);
      setText('branch-office', s.branchOffice);

      // Social links
      setLink('facebook-link', s.socialLinks.facebook, 'Facebook');
      setLink('youtube-link', s.socialLinks.youtube, 'YouTube');
      setLink('instagram-link', s.socialLinks.instagram, 'Instagram');

      // Embed Google Maps
      const map = document.getElementById('google-map');
      if(map) map.src = s.googleMapsEmbedSrc;
    }
  </script>
</body>
</html>
