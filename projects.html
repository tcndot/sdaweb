---
layout: default
title: Projects
permalink: /projects/
---

<section style="padding: 60px 0;">

  <h1 style="text-align:center; font-size:28px; font-weight:800; margin-bottom:50px;">
    Our Projects
  </h1>

  {% assign projects_sorted = site.projects | sort: "title" %}

  {% for p in projects_sorted %}
    {% if p.title %}

      <!-- OUTER CENTER WRAPPER -->
      <div style="max-width:900px; margin:0 auto 90px auto;">

        <!-- CLICKABLE CARD -->
        <a href="{{ p.url | relative_url }}"
           style="display:block; border:1px solid #e5e7eb; border-radius:14px; overflow:hidden; text-decoration:none; color:inherit; background:#fff;">

          <!-- TITLE -->
          <div style="padding:22px; border-bottom:1px solid #eee; text-align:center;">
            <h2 style="font-size:22px; font-weight:700; margin:0;">
              {{ p.title }}
            </h2>
          </div>

          <!-- MEDIA AREA -->
          <div class="project-media" style="position:relative; height:360px; background:#f3f4f6;">

            <!-- MAP (STATIC, ALWAYS VISIBLE) -->
            {% if p.map_image %}
              <img src="{{ p.map_image | relative_url }}"
                   alt="Project map"
                   style="position:absolute; top:0; left:0; width:100%; height:120px; object-fit:cover; border-bottom:1px solid #ddd;">
            {% endif %}

            <!-- IMAGE SLIDES -->
            <div class="project-slides" style="position:absolute; top:120px; left:0; right:0; bottom:0;">
              {% if p.gallery %}
                {% for img in p.gallery limit:2 %}
                  <img src="{{ img | relative_url }}"
                       class="proj-slide"
                       style="position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:0; transition:opacity .6s;">
                {% endfor %}
              {% elsif p.image %}
                <img src="{{ p.image | relative_url }}"
                     class="proj-slide"
                     style="position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:1;">
              {% endif %}
            </div>

          </div>

          <!-- TEXT (NEVER ROTATES) -->
          <div style="padding:22px; text-align:center;">
            {% if p.listing and p.listing.highlight %}
              <div style="font-weight:600; margin-bottom:6px;">
                {{ p.listing.highlight }}
              </div>
            {% endif %}

            {% if p.listing and p.listing.summary %}
              <div style="color:#444; line-height:1.5;">
                {{ p.listing.summary }}
              </div>
            {% endif %}
          </div>

        </a>
      </div>

    {% endif %}
  {% endfor %}
</section>

<script>
  document.querySelectorAll('.project-slides').forEach(slider => {
    const slides = slider.querySelectorAll('.proj-slide');
    if (slides.length <= 1) return;

    let i = 0;
    slides[0].style.opacity = 1;

    setInterval(() => {
      slides[i].style.opacity = 0;
      i = (i + 1) % slides.length;
      slides[i].style.opacity = 1;
    }, 3500);
  });
</script>

<style>
  @media (max-width: 640px) {
    .project-media {
      height: 240px !important;
    }
    .project-media img {
      height: 90px !important;
    }
  }
</style>
