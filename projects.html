---
layout: default
title: Projects
permalink: /projects/
---

<section style="padding:36px 14px; background:#f7f9f8;">

  <h1 style="
      text-align:center;
      font-size:26px;
      font-weight:800;
      margin-bottom:28px;
      color:#111;
  ">
    Our Projects
  </h1>

  {% assign projects_sorted = site.projects | sort: "title" %}

  {% for p in projects_sorted %}
    {% if p.title %}

      <!-- CARD -->
      <a href="{{ p.url | relative_url }}"
         style="
           display:block;
           max-width:380px;
           margin:0 auto 40px auto;
           text-decoration:none;
           color:inherit;
           background:#ffffff;
           border-radius:18px;
           border:1px solid rgba(0,0,0,0.06);
           box-shadow:
             0 2px 4px rgba(0,0,0,0.03),
             0 10px 24px rgba(0,0,0,0.06);
           overflow:hidden;
         ">

        <!-- TITLE -->
        <div style="
            text-align:center;
            padding:14px 14px 10px;
            font-size:20px;
            font-weight:700;
            color:#0f172a;
            border-bottom:1px solid rgba(0,0,0,0.05);
        ">
          {{ p.title }}
        </div>

        <!-- MEDIA (PROPORTIONAL, NO CROPPING LOGIC CHANGE) -->
        <div class="project-rotator"
             style="
               width:100%;
               aspect-ratio: {{ p.media_ratio | default: '16/9' }};
               position:relative;
               background:#e5e7eb;
             ">

          {% assign slides = "" | split: "" %}

          {% if p.map_image %}
            {% assign slides = slides | push: p.map_image %}
          {% endif %}

          {% if p.gallery %}
            {% for img in p.gallery limit:2 %}
              {% assign slides = slides | push: img %}
            {% endfor %}
          {% elsif p.image %}
            {% assign slides = slides | push: p.image %}
          {% endif %}

          {% if slides.size > 0 %}
            {% for img in slides %}
              <img
                src="{{ img | relative_url }}"
                alt="{{ p.title }}"
                class="proj-slide"
                style="
                  position:absolute;
                  inset:0;
                  width:100%;
                  height:100%;
                  object-fit:cover;
                  opacity:0;
                  transition:opacity .6s ease;
                "
                loading="lazy">
            {% endfor %}
          {% endif %}
        </div>

        <!-- TEXT -->
        <div style="
            padding:14px 16px 18px;
            text-align:center;
        ">
          {% if p.listing and p.listing.highlight %}
            <div style="
                font-weight:600;
                font-size:15px;
                color:#111827;
                margin-bottom:6px;
            ">
              {{ p.listing.highlight }}
            </div>
          {% endif %}

          {% if p.listing and p.listing.summary %}
            <div style="
                font-size:14px;
                color:#4b5563;
                line-height:1.55;
            ">
              {{ p.listing.summary }}
            </div>
          {% endif %}
        </div>

      </a>

    {% endif %}
  {% endfor %}
</section>

<script>
  document.querySelectorAll('.project-rotator').forEach(rotator => {
    const slides = rotator.querySelectorAll('.proj-slide');
    if (slides.length <= 1) {
      if (slides[0]) slides[0].style.opacity = 1;
      return;
    }

    let i = 0;
    slides[0].style.opacity = 1;

    setInterval(() => {
      slides[i].style.opacity = 0;
      i = (i + 1) % slides.length;
      slides[i].style.opacity = 1;
    }, 3000);
  });
</script>

<style>
  @media (min-width: 768px) {
    a[href^="/projects/"] {
      max-width: 460px !important;
    }
  }
</style>
