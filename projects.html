---
layout: default
title: Projects
permalink: /projects/
---

<section style="padding:40px 16px;">

  <h1 style="text-align:center;font-size:26px;font-weight:800;margin-bottom:32px;">
    Our Projects
  </h1>

  {% assign projects_sorted = site.projects | sort: "title" %}

  {% for p in projects_sorted %}
    {% if p.title %}

      <!-- PROJECT BLOCK -->
      <a href="{{ p.url | relative_url }}"
         style="display:block;max-width:420px;margin:0 auto 48px auto;text-decoration:none;color:inherit;">

        <!-- TITLE -->
        <div style="text-align:center;font-size:20px;font-weight:700;margin-bottom:12px;">
          {{ p.title }}
        </div>

        <!-- ROTATING MEDIA (MAP + IMAGES) -->
        <div class="project-rotator"
             style="width:100%;height:220px;border-radius:12px;overflow:hidden;position:relative;background:#eee;">

          {% assign slides = "" | split: "" %}

          {% if p.map_image %}
            {% assign slides = slides | push: p.map_image %}
          {% endif %}

          {% if p.gallery %}
            {% for img in p.gallery limit:2 %}
              {% assign slides = slides | push: img %}
            {% endfor %}
          {% elsif p.image %}
            {% assign slides = slides | push: p.image %}
          {% endif %}

          {% if slides.size > 0 %}
            {% for img in slides %}
              <img
                src="{{ img | relative_url }}"
                alt="{{ p.title }}"
                class="proj-slide"
                style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;opacity:0;transition:opacity .6s;"
                loading="lazy">
            {% endfor %}
          {% else %}
            <div style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#777;">
              No image
            </div>
          {% endif %}
        </div>

        <!-- TEXT -->
        <div style="text-align:center;margin-top:12px;">
          {% if p.listing and p.listing.highlight %}
            <div style="font-weight:600;margin-bottom:4px;">
              {{ p.listing.highlight }}
            </div>
          {% endif %}

          {% if p.listing and p.listing.summary %}
            <div style="color:#555;font-size:14px;line-height:1.5;">
              {{ p.listing.summary }}
            </div>
          {% endif %}
        </div>

      </a>

    {% endif %}
  {% endfor %}
</section>

<script>
  document.querySelectorAll('.project-rotator').forEach(rotator => {
    const slides = rotator.querySelectorAll('.proj-slide');
    if (slides.length <= 1) {
      if (slides[0]) slides[0].style.opacity = 1;
      return;
    }

    let i = 0;
    slides[0].style.opacity = 1;

    setInterval(() => {
      slides[i].style.opacity = 0;
      i = (i + 1) % slides.length;
      slides[i].style.opacity = 1;
    }, 3000);
  });
</script>

<style>
  /* Desktop enhancement only */
  @media (min-width: 768px) {
    .project-rotator {
      height: 280px !important;
    }
    a[href^="/projects/"] {
      max-width: 520px !important;
    }
  }
</style>
