<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ page.title }} | {{ site.title }}</title>

  <link rel="icon" type="image/png" href="{{ site.baseurl }}/assets/logo4favicon.png">
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    html, body { margin:0; font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; color:#111; }

    .container { max-width:1120px; margin:0 auto; padding:22px; box-sizing:border-box; }

    /* --- HERO TITLE ABOVE MAP --- */
    .hero-header {
      max-width:1120px;
      margin: 18px auto 14px auto;
      text-align:center;
      padding:0 22px;
    }
    .hero-title {
      font-size:2.1rem;
      font-weight:900;
      margin-bottom:6px;
      color:#0b3a0b;
      letter-spacing:-0.5px;
    }
    .hero-location {
      font-size:1.1rem;
      font-weight:700;
      color:#15431a;
      margin-bottom:4px;
    }
    .hero-motto {
      font-size:0.98rem;
      color:#444;
      margin-top:0;
    }

    /* --- FULL WIDTH MAP IMAGE --- */
    .hero-wrap {
      width:100vw;
      position:relative;
      left:50%;
      right:50%;
      margin-left:-50vw;
      margin-right:-50vw;
      box-sizing:border-box;
    }
    .hero-photo {
      width:100%;
      height:auto;
      display:block;
      object-fit:cover;
      border-bottom-left-radius:12px;
      border-bottom-right-radius:12px;
      box-shadow:0 10px 30px rgba(0,0,0,0.06);
    }

    /* --- DETAILS BOX (unchanged, except removed overlap) --- */
    .details-box {
      max-width:820px;
      margin:20px auto 22px auto;
      background:#fff;
      border-radius:12px;
      box-shadow:0 14px 40px rgba(10,20,10,0.06);
      padding:20px;
      text-align:left;
    }
    .details-location { font-weight:800; font-size:1.15rem; color:#0b3a0b; }
    .details-sub { color:#444; margin-top:6px; }

    .points { margin-top:16px; padding:10px 8px; }
    .point { padding:8px 0; border-bottom:1px dashed #eee; display:flex; gap:12px; align-items:flex-start; }
    .point strong { min-width:210px; font-weight:800; color:#000; }
    .point .value { color:#111; }

    /* --- Q&A BOX (unchanged) --- */
    .qa-box { background:#fff; border-radius:10px; padding:16px; margin-top:20px; box-shadow:0 8px 20px rgba(10,20,10,0.04); color:#000; }
    .qa-question { font-weight:800; margin-bottom:6px; }
    .qa-answer { margin-bottom:12px; }

    /* --- SLIDER (unchanged) --- */
    .slider { position:relative; width:100%; max-width:1000px; margin:20px auto 0; border-radius:12px; overflow:hidden; }
    .slides { display:flex; transition:transform .35s ease; }
    .slide { min-width:100%; }
    .slide img { width:100%; height:520px; object-fit:cover; display:block; }

    .slider .nav-btn {
      position:absolute; top:50%; transform:translateY(-50%);
      background:rgba(255,255,255,0.92); border-radius:10px; padding:10px;
      box-shadow:0 6px 20px rgba(0,0,0,0.12); border:1px solid rgba(0,0,0,0.06);
      cursor:pointer;
    }
    .nav-left{ left:12px; }
    .nav-right{ right:12px; }

    @media (max-width:880px){
      .slide img{ height:320px; }
      .hero-title{ font-size:1.6rem; }
      .point strong { min-width:140px; }
    }
  </style>
</head>

<body>

  {% include header.html %}

  <main class="container">

    <!-- HERO TITLE ABOVE MAP -->
    <div class="hero-header">
      <div class="hero-title">{{ page.title }}</div>

      {% if page.location %}
        <div class="hero-location">{{ page.location }}</div>
      {% endif %}

      {% if page.subtitle %}
        <div class="hero-motto">{{ page.subtitle }}</div>
      {% endif %}
    </div>

    <!-- FULL WIDTH MAP IMAGE -->
    <div class="hero-wrap">
      {% if page.map_image %}
        <img src="{{ page.map_image | relative_url }}" alt="Project map" class="hero-photo" />
      {% elsif page.image %}
        <img src="{{ page.image | relative_url }}" alt="Project image" class="hero-photo" />
      {% else %}
        <div class="hero-photo" style="height:360px; display:flex; justify-content:center; align-items:center; background:#f3f7f3; color:#8aa88a;">
          No project image provided
        </div>
      {% endif %}
    </div>

    <!-- DETAILS BOX -->
    <section class="details-box">


      {% if page.points %}
      <div class="points">
        {% for p in page.points %}
          <div class="point">
            <strong>{{ p.label }} :</strong>
            <div class="value">{{ p.value }}</div>
          </div>
        {% endfor %}
      </div>
      {% endif %}
    </section>

    <!-- PAGE CONTENT (unchanged) -->
    <section class="project-content max-w-[1000px] mx-auto mt-6">
      {{ content }}
    </section>

    <!-- Q&A BOX (unchanged) -->
    {% if page.qa %}
    <section class="qa-box max-w-[1000px] mx-auto">
      {% for item in page.qa %}
        <div class="qa-item">
          <div class="qa-question">{{ item.q }}</div>
          <div class="qa-answer">{{ item.a }}</div>
        </div>
      {% endfor %}
    </section>
    {% endif %}

    <!-- SLIDESHOW (unchanged) -->
    {% assign gallery = page.gallery | default: page.photos | default: nil %}
    {% if gallery %}
    <div class="slider" id="projectSlider">
      <div class="slides" id="slides">
        {% for img in gallery %}
        <div class="slide"><img src="{{ img | relative_url }}"></div>
        {% endfor %}
      </div>

      <button class="nav-btn nav-left" id="prevBtn">‹</button>
      <button class="nav-btn nav-right" id="nextBtn">›</button>
    </div>
    {% endif %}

  </main>

  {% include footer.html %}

  <script>
    (function(){
      const slidesEl = document.getElementById('slides');
      if (!slidesEl) return;
      const slides = slidesEl.children;
      const total = slides.length;
      let idx = 0;

      function update() {
        slidesEl.style.transform = `translateX(-${idx * 100}%)`;
      }

      document.getElementById('nextBtn').addEventListener('click', function(){ idx = (idx+1) % total; update(); });
      document.getElementById('prevBtn').addEventListener('click', function(){ idx = (idx-1+total) % total; update(); });

      document.addEventListener('keydown', function(e){
        if (e.key === 'ArrowLeft') { idx = (idx-1+total) % total; update(); }
        if (e.key === 'ArrowRight') { idx = (idx+1) % total; update(); }
      });

      update();
    })();
  </script>

</body>
</html>
